"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.Tags = void 0;
const tiny_types_1 = require("tiny-types");
const _1 = require("./");
/**
 * @package
 */
class Tags {
    static from(text) {
        const [, type, value] = Tags.Pattern.exec(text);
        return (0, tiny_types_1.match)(type.toLowerCase())
            .when('manual', _ => [new _1.ManualTag()])
            // todo: map as arbitrary tag if value === ''; look up ticket id
            .when(/^issues?$/, _ => value.split(',').map(value => new _1.IssueTag(value.trim())))
            .else(value => [new _1.ArbitraryTag(value.trim())]);
    }
}
Tags.Pattern = /^@([\w-]+)[\s:]?(.*)/i;
exports.Tags = Tags;
//# sourceMappingURL=Tags.js.map