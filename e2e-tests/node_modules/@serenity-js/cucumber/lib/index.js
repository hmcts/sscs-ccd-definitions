"use strict";
const core_1 = require("@serenity-js/core");
const io_1 = require("@serenity-js/core/lib/io");
const loader = new io_1.ModuleLoader(process.cwd());
const version = loader.hasAvailable('@cucumber/cucumber')
    ? loader.versionOf('@cucumber/cucumber')
    : loader.versionOf('cucumber');
/**
 * Registers a Cucumber reporter that emits {@apilink DomainEvent|Serenity/JS domain events}
 * and informs Serenity/JS when test scenarios and Cucumber steps start, finish, and with what result.
 */
const listener = version.isAtLeast(new io_1.Version('7.0.0'))
    ? require('./listeners/messages').createListener(core_1.serenity, loader) // eslint-disable-line @typescript-eslint/no-var-requires
    : require('./listeners/legacy').createListener(core_1.serenity, loader); // eslint-disable-line @typescript-eslint/no-var-requires
module.exports = listener;
//# sourceMappingURL=index.js.map